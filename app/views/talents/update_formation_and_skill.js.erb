

function refreshForm(innerHTML) {
  const editProfilForm = document.getElementById('formations_et_competences');
  editProfilForm.innerHTML = innerHTML;
}

function addComment(textHTML){
  const editProfilForm = document.getElementById('formations_et_competences');
  editProfilForm.insertAdjacentHTML('beforebegin', textHTML);
}
function refreshSelect2() {
    // your code here
    $(".select2").select2(); // init the select
}

<% if @talent.errors.any? %>
  addComment('<p style="color: red; text-align: center; margin-bottom: 20px;">Un problème est survenu, relancez la page et ressayez</p>');
<% else %>
  refreshForm('<%= j render "edit_formations_competences" %>');
  addComment('<p style="color: red; text-align: center; margin-bottom: 20px;">Votre profil a bien été modifié</p>');
  refreshSelect2();
<% end %>

