<div class="container-fluid">
  <div class="row">
    <div class="col-sm-6 px-0 d-none d-sm-block no-padding">
      <%= link_to root_path, class: "navbar-talentist-logo" do %>
        <%= image_tag "Illustrations_site-31.png", class: "login-img" %>
      <% end %>
    </div>
    <div class="col-sm-6 login-section-wrapper">
      <div class="brand-wrapper">
        <a href="https://thetalentist.com/" target="_blank" class="navbar-talentist-logo">
          <%= image_tag "Logo The talentist-01.png", class: "logo" %>
        </a>
      </div>
      <div class="login-wrapper my-auto">
        <h1 class="login-title" id="textBonjour">Bonjour</h1>
        <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
          <%= f.error_notification %>
          <%= f.input :email, 
            required: false, 
            autofocus: true 
          %>
          <%= f.input :password, 
            required: false 
          %>
          <%= f.input :remember_me, 
            as: :boolean if devise_mapping.rememberable? 
          %>
          <%= render "talentists/shared/links" %>

          <div class="form-actions">
            <%= f.button :submit, "Se connecter", class: "form-btn form-btn-suivant" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>


<script>
  const mailTalentist = document.getElementById('talentist_email');

  if (mailTalentist) {
    const textBonjour = document.getElementById('textBonjour');
    function capitalize(string) {
      return string.charAt(0).toUpperCase() + string.slice(1);
    }

    mailTalentist.addEventListener("input", () => {
      const string = mailTalentist.value

      if ( !string.includes("@") ){
        textBonjour.innerText = "Bonjour " + capitalize(string);
      }
    })
  }

</script>
